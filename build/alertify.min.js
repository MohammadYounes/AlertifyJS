/*! AlertifyJS - v0.4.0 - Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) */
!function(a){"use strict";function b(a,b){a.className+=" "+b}function c(a,b){for(var c=b.split(" "),d=0;d<c.length;d+=1)a.className=a.className.replace(" "+c[d],"")}function d(){return"rtl"===a.getComputedStyle(document.body).direction}function e(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function f(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function g(a,b){return function(){if(arguments.length>0){for(var c=[],d=0;d<arguments.length;d+=1)c.push(arguments[d]);return c.push(a),b.apply(a,c)}return b.apply(a,[null,a])}}function h(a,b){return{index:a,button:b,cancel:!1}}function i(){function a(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function b(a){var b=d[a].dialog;return b&&"function"==typeof b.__init&&b.__init(b),b}function c(b,c,e,f){var g={dialog:null,factory:c};return void 0!==f&&(g.factory=function(){return a(new d[f].factory,new c)}),e||(g.dialog=a(new g.factory,o)),d[b]=g}var d={};return{defaults:k,dialog:function(d,e,f,g){if("function"!=typeof e)return b(d);if(this.hasOwnProperty(d))throw new Error("alertify.dialog: name already exists");var h=c(d,e,f,g);this[d]=f?function(){if(0===arguments.length)return h.dialog;var b=a(new h.factory,o);return b&&"function"==typeof b.__init&&b.__init(b),b.main.apply(b,arguments),b.show.apply(b)}:function(){if(h.dialog&&"function"==typeof h.dialog.__init&&h.dialog.__init(h.dialog),0===arguments.length)return h.dialog;var a=h.dialog;return a.main.apply(h.dialog,arguments),a.show.apply(h.dialog)}},setting:function(a,c,d){if("notifier"===a)return p.setting(c,d);var e=b(a);return e?e.setting(c,d):void 0},notify:function(a,b,c,d){p.notify(a,b,c,d)},message:function(a,b,c){p.notify(a,null,b,c)},success:function(a,b,c){p.notify(a,"success",b,c)},error:function(a,b,c){p.notify(a,"error",b,c)},warning:function(a,b,c){p.notify(a,"warning",b,c)}}}var j={ENTER:13,ESC:27,F1:112,F12:123},k={modal:!0,movable:!0,resizable:!0,closable:!0,maximizable:!0,pinnable:!0,pinned:!0,transition:"pulse",padding:!0,overflow:!0,notifier:{delay:5,position:"bottom-right"},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"}},l=function(){return document.addEventListener?function(a,b,c,d){a.addEventListener(b,c,d===!0)}:document.attachEvent?function(a,b,c){a.attachEvent("on"+b,c)}:void 0}(),m=function(){return document.removeEventListener?function(a,b,c,d){a.removeEventListener(b,c,d===!0)}:document.detachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:void 0}(),n=function(){var a,b,c=!1,d=document.createElement("fakeelement"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(a in e)if(void 0!==d.style[a]){b=e[a],c=!0;break}return{type:b,supported:c}}(),o=function(){function i(a){if(!a.__internal){delete a.__init,null===pb&&document.body.setAttribute("tabindex","0");var c;"function"==typeof a.setup?(c=a.setup(),c.options=c.options||{},c.focus=c.focus||{}):c={buttons:[],focus:{element:null,select:!1},options:{}};var d=a.__internal={isOpen:!1,activeElement:document.body,buttons:c.buttons,focus:c.focus,options:{title:void 0,modal:void 0,pinned:void 0,movable:void 0,resizable:void 0,closable:void 0,maximizable:void 0,pinnable:void 0,transition:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclose:void 0,onfocus:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0},e={};e.root=document.createElement("div"),e.root.className=sb.base+" "+sb.hidden+" ",e.root.innerHTML=rb.dimmer+rb.modal,e.dimmer=e.root.firstChild,e.modal=e.root.lastChild,e.modal.innerHTML=rb.dialog,e.dialog=e.modal.firstChild,e.dialog.innerHTML=rb.reset+rb.commands+rb.header+rb.body+rb.footer+rb.reset,e.reset=[],e.reset.push(e.dialog.firstChild),e.reset.push(e.dialog.lastChild),e.commands={},e.commands.container=e.reset[0].nextSibling,e.commands.pin=e.commands.container.firstChild,e.commands.maximize=e.commands.pin.nextSibling,e.commands.close=e.commands.maximize.nextSibling,e.header=e.commands.container.nextSibling,e.body=e.header.nextSibling,e.body.innerHTML=rb.content,e.content=e.body.firstChild,e.footer=e.body.nextSibling,e.footer.innerHTML=rb.buttons.auxiliary+rb.buttons.primary+rb.resizeHandle,e.resizeHandle=e.footer.lastChild,e.buttons={},e.buttons.auxiliary=e.footer.firstChild,e.buttons.primary=e.buttons.auxiliary.nextSibling,e.buttons.primary.innerHTML=rb.button,e.buttonTemplate=e.buttons.primary.firstChild,e.buttons.primary.removeChild(e.buttonTemplate);for(var f=0;f<a.__internal.buttons.length;f+=1){var h=a.__internal.buttons[f];ob.indexOf(h.key)<0&&ob.push(h.key),h.element=e.buttonTemplate.cloneNode(),h.element.innerHTML=h.text,"string"==typeof h.className&&""!==h.className&&b(h.element,h.className);for(var i in h.attrs)"className"!==i&&h.attrs.hasOwnProperty(i)&&h.element.setAttribute(i,h.attrs[i]);"auxiliary"===h.scope?e.buttons.auxiliary.appendChild(h.element):e.buttons.primary.appendChild(h.element)}a.elements=e,d.resetHandler=g(a,N),d.beginMoveHandler=g(a,R),d.beginResizeHandler=g(a,X),d.bringToFrontHandler=g(a,r),d.modalClickHandler=g(a,H),d.buttonsClickHandler=g(a,J),d.commandsClickHandler=g(a,v),d.transitionInHandler=g(a,O),d.transitionOutHandler=g(a,P),a.setting("title",void 0===c.options.title?q.defaults.glossary.title:c.options.title),a.setting("modal",void 0===c.options.modal?q.defaults.modal:c.options.modal),a.setting("movable",void 0===c.options.movable?q.defaults.movable:c.options.movable),a.setting("resizable",void 0===c.options.resizable?q.defaults.resizable:c.options.resizable),a.setting("closable",void 0===c.options.closable?q.defaults.closable:c.options.closable),a.setting("maximizable",void 0===c.options.maximizable?q.defaults.maximizable:c.options.maximizable),a.setting("pinnable",void 0===c.options.pinnable?q.defaults.pinnable:c.options.pinnable),a.setting("pinned",void 0===c.options.pinned?q.defaults.pinned:c.options.pinned),a.setting("transition",void 0===c.options.transition?q.defaults.transition:c.options.transition),a.setting("padding",void 0===c.options.padding?q.defaults.padding:c.options.padding),a.setting("overflow",void 0===c.options.overflow?q.defaults.overflow:c.options.overflow),"function"==typeof a.build&&a.build()}document.body.appendChild(a.elements.root)}function k(){for(var a=0,d=0;d<nb.length;d+=1){var e=nb[d];(e.isModal()||e.isMaximized())&&(a+=1)}0===a?c(document.body,sb.noOverflow):a>0&&document.body.className.indexOf(sb.noOverflow)<0&&b(document.body,sb.noOverflow)}function o(a,d,e){"string"==typeof e&&c(a.elements.root,sb.prefix+e),b(a.elements.root,sb.prefix+d),pb=a.elements.root.offsetWidth}function p(a){a.setting("modal")?(c(a.elements.root,sb.modeless),a.isOpen()&&(eb(a),D(a),k())):(b(a.elements.root,sb.modeless),a.isOpen()&&(db(a),D(a),k()))}function r(a,b){for(var c=nb.indexOf(b),d=c+1;d<nb.length;d+=1)if(nb[d].isModal())return;return document.body.lastChild!==b.elements.root&&(document.body.appendChild(b.elements.root),M(b)),!1}function s(a,d,e,f){switch(d){case"title":a.setHeader(f);break;case"modal":p(a);break;case"pinned":E(a);break;case"closable":G(a);break;case"maximizable":F(a);break;case"pinnable":A(a);break;case"movable":V(a);break;case"resizable":_(a);break;case"transition":o(a,f,e);break;case"padding":f?c(a.elements.root,sb.noPadding):a.elements.root.className.indexOf(sb.noPadding)<0&&b(a.elements.root,sb.noPadding);break;case"overflow":f?c(a.elements.root,sb.noOverflow):a.elements.root.className.indexOf(sb.noOverflow)<0&&b(a.elements.root,sb.noOverflow);break;case"transition":o(a,f,e)}}function t(a,b,c,d,e){var f={op:void 0,items:[]};if("undefined"==typeof e&&"string"==typeof d)f.op="get",b.hasOwnProperty(d)?(f.found=!0,f.value=b[d]):(f.found=!1,f.value=void 0);else{var g;if(f.op="set","object"==typeof d){var h=d;for(var i in h)b.hasOwnProperty(i)?(b[i]!==h[i]&&(g=b[i],b[i]=h[i],c.call(a,i,g,h[i])),f.items.push({key:i,value:h[i],found:!0})):f.items.push({key:i,value:h[i],found:!1})}else{if("string"!=typeof d)throw new Error("args must be a string or object");b.hasOwnProperty(d)?(b[d]!==e&&(g=b[d],b[d]=e,c.call(a,d,g,e)),f.items.push({key:d,value:e,found:!0})):f.items.push({key:d,value:e,found:!1})}}return f}function u(a){var b;I(a,function(a){return b=a.invokeOnClose===!0}),!b&&a.isOpen()&&a.close()}function v(a,b){var c=a.srcElement||a.target;switch(c){case b.elements.commands.pin:b.isPinned()?x(b):w(b);break;case b.elements.commands.maximize:b.isMaximized()?z(b):y(b);break;case b.elements.commands.close:u(b)}return!1}function w(a){a.setting("pinned",!0)}function x(a){a.setting("pinned",!1)}function y(a){b(a.elements.root,sb.maximized),a.isOpen()&&k()}function z(a){c(a.elements.root,sb.maximized),a.isOpen()&&k()}function A(a){a.setting("pinnable")?b(a.elements.root,sb.pinnable):c(a.elements.root,sb.pinnable)}function B(a){var b=f();a.elements.modal.style.marginTop=e()+"px",a.elements.modal.style.marginLeft=b+"px",a.elements.modal.style.marginRight=-b+"px"}function C(a){var b=parseInt(a.elements.modal.style.marginTop,10),c=parseInt(a.elements.modal.style.marginLeft,10);if(a.elements.modal.style.marginTop="",a.elements.modal.style.marginLeft="",a.elements.modal.style.marginRight="",a.isOpen()){var d=0,g=0;""!==a.elements.dialog.style.top&&(d=parseInt(a.elements.dialog.style.top,10)),a.elements.dialog.style.top=d+(b-e())+"px",""!==a.elements.dialog.style.left&&(g=parseInt(a.elements.dialog.style.left,10)),a.elements.dialog.style.left=g+(c-f())+"px"}}function D(a){a.setting("modal")||a.setting("pinned")?C(a):B(a)}function E(a){a.setting("pinned")?(c(a.elements.root,sb.unpinned),a.isOpen()&&C(a)):(b(a.elements.root,sb.unpinned),a.isOpen()&&!a.isModal()&&B(a))}function F(a){a.setting("maximizable")?b(a.elements.root,sb.maximizable):c(a.elements.root,sb.maximizable)}function G(a){a.setting("closable")?(b(a.elements.root,sb.closable),jb(a)):(c(a.elements.root,sb.closable),kb(a))}function H(a,b){var c=a.srcElement||a.target;return tb||c!==b.elements.modal||u(b),tb=!1,!1}function I(a,b){for(var c=0;c<a.__internal.buttons.length;c+=1){var d=a.__internal.buttons[c];if(!d.element.disabled&&b(d)){var e=h(c,d);"function"==typeof a.callback&&a.callback.apply(a,[e]),e.cancel===!1&&a.close();break}}}function J(a,b){var c=a.srcElement||a.target;I(b,function(a){return a.element===c&&(ub=!0)})}function K(a){if(ub)return void(ub=!1);var b=nb[nb.length-1],c=a.keyCode;return ob.indexOf(c)>-1?(I(b,function(a){return a.key===c}),!1):void 0}function L(a){var b=nb[nb.length-1],c=a.keyCode;return c<j.F12+1&&c>j.F1-1&&ob.indexOf(c)>-1?(a.preventDefault(),a.stopPropagation(),I(b,function(a){return a.key===c}),!1):void 0}function M(a,b){if(b)b.focus();else{var c=a.__internal.focus,d=c.element;"number"==typeof c.element&&(d=a.__internal.buttons[c.element].element),d&&d.focus&&(d.focus(),c.select&&d.select&&d.select())}}function N(a,b){if(!b)for(var c=nb.length-1;c>-1;c-=1)if(nb[c].isModal()){b=nb[c];break}if(b&&b.isModal()){var d,e=a.srcElement||a.target,f=e===b.elements.reset[1];f&&(b.setting("maximizable")?d=b.elements.commands.maximize:b.setting("closable")&&(d=b.elements.commands.close)),void 0===d&&("number"==typeof b.__internal.focus.element?e===b.elements.reset[0]?d=b.elements.buttons.auxiliary.firstChild||b.elements.buttons.primary.firstChild:f&&(d=b.elements.reset[0]):e===b.elements.reset[0]&&(d=b.elements.buttons.primary.lastChild||b.elements.buttons.auxiliary.lastChild)),M(b,d)}}function O(a,b){clearTimeout(lb),M(b),ub=!1,"function"==typeof b.setting("onfocus")&&b.setting("onfocus")(),m(b.elements.dialog,n.type,b.__internal.transitionInHandler),c(b.elements.root,sb.animationIn)}function P(a,b){clearTimeout(mb),m(b.elements.dialog,n.type,b.__internal.transitionOutHandler),U(b),$(b),b.isMaximized()&&z(b),b.__internal.activeElement.focus()}function Q(a,b){b.style.left=a[yb]-wb+"px",b.style.top=a[zb]-xb+"px"}function R(a,c){if(null===Ab&&!c.isMaximized()&&c.setting("movable")){var d;if("touchstart"===a.type?(a.preventDefault(),d=a.targetTouches[0],yb="clientX",zb="clientY"):0===a.button&&(d=a),d){vb=c,wb=d[yb],xb=d[zb];var e=c.elements.dialog;return e.style.left&&(wb-=parseInt(e.style.left,10)),e.style.top&&(xb-=parseInt(e.style.top,10)),Q(d,e),b(document.body,sb.noSelection),!1}}}function S(a){if(vb){var b;"touchmove"===a.type?(a.preventDefault(),b=a.targetTouches[0]):0===a.button&&(b=a),b&&Q(b,vb.elements.dialog)}}function T(){vb&&(vb=null,c(document.body,sb.noSelection))}function U(a){vb=null;var b=a.elements.dialog;b.style.left=b.style.top=""}function V(a){a.setting("movable")?(b(a.elements.root,sb.movable),a.isOpen()&&fb(a)):(U(a),c(a.elements.root,sb.movable),a.isOpen()&&gb(a))}function W(a,b,c){var e=b,f=0,g=0;do f+=e.offsetLeft,g+=e.offsetTop;while(e=e.offsetParent);var h,i;c===!0?(h=a.pageX,i=a.pageY):(h=a.clientX,i=a.clientY);var j=d();if(j&&(h=document.body.offsetWidth-h,isNaN(Bb)||(f=document.body.offsetWidth-f-b.offsetWidth)),b.style.height=i-g+Eb+"px",b.style.width=h-f+Eb+"px",!isNaN(Bb)){var k=.5*Math.abs(b.offsetWidth-Cb);j&&(k*=-1),b.offsetWidth>Cb?b.style.left=Bb+k+"px":b.offsetWidth>=Db&&(b.style.left=Bb-k+"px")}}function X(a,c){if(!c.isMaximized()){var d;if("touchstart"===a.type?(a.preventDefault(),d=a.targetTouches[0]):0===a.button&&(d=a),d){Ab=c,Eb=c.elements.resizeHandle.offsetHeight/2;var e=c.elements.dialog;return Bb=parseInt(e.style.left,10),e.style.height=e.offsetHeight+"px",e.style.minHeight=c.elements.header.offsetHeight+c.elements.footer.offsetHeight+"px",e.style.width=(Cb=e.offsetWidth)+"px","none"!==e.style.maxWidth&&(e.style.minWidth=(Db=e.offsetWidth)+"px"),e.style.maxWidth="none",b(document.body,sb.noSelection),!1}}}function Y(a){if(Ab){var b;"touchmove"===a.type?(a.preventDefault(),b=a.targetTouches[0]):0===a.button&&(b=a),b&&W(b,Ab.elements.dialog,!Ab.setting("modal")&&!Ab.setting("pinned"))}}function Z(){Ab&&(Ab=null,c(document.body,sb.noSelection),tb=!0)}function $(a){Ab=null;var b=a.elements.dialog;"none"===b.style.maxWidth&&(b.style.maxWidth=b.style.minWidth=b.style.width=b.style.height=b.style.minHeight=b.style.left="",Bb=Number.Nan,Cb=Db=Eb=0)}function _(a){a.setting("resizable")?(b(a.elements.root,sb.resizable),a.isOpen()&&hb(a)):($(a),c(a.elements.root,sb.resizable),a.isOpen()&&ib(a))}function ab(){for(var a=0;a<nb.length;a+=1){var b=nb[a];U(b),$(b)}}function bb(b){1===nb.length&&(l(a,"resize",ab),l(document.body,"keyup",K),l(document.body,"keydown",L),l(document.body,"focus",N),l(document.body,"mousemove",S),l(document.body,"touchmove",S),l(document.body,"mouseup",T),l(document.body,"touchend",T),l(document.body,"mousemove",Y),l(document.body,"touchmove",Y),l(document.body,"mouseup",Z),l(document.body,"touchend",Z)),l(b.elements.commands.container,"click",b.__internal.commandsClickHandler),l(b.elements.footer,"click",b.__internal.buttonsClickHandler),l(b.elements.reset[0],"focus",b.__internal.resetHandler),l(b.elements.reset[1],"focus",b.__internal.resetHandler),ub=!0,l(b.elements.dialog,n.type,b.__internal.transitionInHandler),b.setting("modal")||db(b),b.setting("resizable")&&hb(b),b.setting("movable")&&fb(b)}function cb(b){1===nb.length&&(m(a,"resize",ab),m(document.body,"keyup",K),m(document.body,"keydown",L),m(document.body,"focus",N),m(document.body,"mousemove",S),m(document.body,"mouseup",T),m(document.body,"mousemove",Y),m(document.body,"mouseup",Z)),m(b.elements.commands.container,"click",b.__internal.commandsClickHandler),m(b.elements.footer,"click",b.__internal.buttonsClickHandler),m(b.elements.reset[0],"focus",b.__internal.resetHandler),m(b.elements.reset[1],"focus",b.__internal.resetHandler),l(b.elements.dialog,n.type,b.__internal.transitionOutHandler),b.setting("modal")||eb(b),b.setting("movable")&&gb(b),b.setting("resizable")&&ib(b)}function db(a){l(a.elements.dialog,"focus",a.__internal.bringToFrontHandler,!0)}function eb(a){m(a.elements.dialog,"focus",a.__internal.bringToFrontHandler,!0)}function fb(a){l(a.elements.header,"mousedown",a.__internal.beginMoveHandler),l(a.elements.header,"touchstart",a.__internal.beginMoveHandler)}function gb(a){m(a.elements.header,"mousedown",a.__internal.beginMoveHandler),m(a.elements.header,"touchstart",a.__internal.beginMoveHandler)}function hb(a){l(a.elements.resizeHandle,"mousedown",a.__internal.beginResizeHandler),l(a.elements.resizeHandle,"touchstart",a.__internal.beginResizeHandler)}function ib(a){m(a.elements.resizeHandle,"mousedown",a.__internal.beginResizeHandler),m(a.elements.resizeHandle,"touchstart",a.__internal.beginResizeHandler)}function jb(a){l(a.elements.modal,"click",a.__internal.modalClickHandler)}function kb(a){m(a.elements.modal,"click",a.__internal.modalClickHandler)}var lb,mb,nb=[],ob=[],pb=null,qb=a.navigator.userAgent.indexOf("Safari")>-1&&a.navigator.userAgent.indexOf("Chrome")<0,rb={dimmer:'<div class="ajs-dimmer"></div>',modal:'<div class="ajs-modal" tabindex="0"></div>',dialog:'<div class="ajs-dialog" tabindex="0"></div>',reset:'<a class="ajs-reset" href="#"></a>',commands:'<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',header:'<div class="ajs-header"></div>',body:'<div class="ajs-body"></div>',content:'<div class="ajs-content"></div>',footer:'<div class="ajs-footer"></div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"></div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"></div>'},button:'<button class="ajs-button"></button>',resizeHandle:'<div class="ajs-handle"></div>'},sb={base:"alertify",prefix:"ajs-",hidden:"ajs-hidden",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",modeless:"ajs-modeless",movable:"ajs-movable",resizable:"ajs-resizable",fixed:"ajs-fixed",closable:"ajs-closable",maximizable:"ajs-maximizable",maximize:"ajs-maximize",restore:"ajs-restore",pinnable:"ajs-pinnable",unpinned:"ajs-unpinned",pin:"ajs-pin",maximized:"ajs-maximized",animationIn:"ajs-in",animationOut:"ajs-out",shake:"ajs-shake"},tb=!1,ub=!1,vb=null,wb=0,xb=0,yb="pageX",zb="pageY",Ab=null,Bb=Number.Nan,Cb=0,Db=0,Eb=0;return{__init:i,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(sb.modeless)<0},isMaximized:function(){return this.elements.root.className.indexOf(sb.maximized)>-1},isPinned:function(){return this.elements.root.className.indexOf(sb.unpinned)<0},maximize:function(){return this.isMaximized()||y(this),this},restore:function(){return this.isMaximized()&&z(this),this},pin:function(){return this.isPinned()||w(this),this},unpin:function(){return this.isPinned()&&x(this),this},setting:function(a,b){var c=this,d=t(this,this.__internal.options,function(a,b,d){s(c,a,b,d)},a,b);if("get"===d.op)return d.found?d.value:"undefined"!=typeof this.settings?t(this,this.settings,this.settingUpdated||function(){},a,b).value:void 0;if("set"===d.op){if(d.items.length>0)for(var e=this.settingUpdated||function(){},f=0;f<d.items.length;f+=1){var g=d.items[f];g.found||"undefined"==typeof this.settings||t(this,this.settings,e,g.key,g.value)}return this}},setHeader:function(b){return"string"==typeof b?this.elements.header.innerHTML=b:b instanceof a.HTMLElement&&this.elements.header.firstChild!==b&&(this.elements.header.innerHTML="",this.elements.header.appendChild(b)),this},setContent:function(b){return"string"==typeof b?this.elements.content.innerHTML=b:b instanceof a.HTMLElement&&this.elements.content.firstChild!==b&&(this.elements.content.innerHTML="",this.elements.content.appendChild(b)),this},showModal:function(a){return this.show(!0,a)},show:function(a,d){if(i(this),this.__internal.isOpen){U(this),$(this),b(this.elements.dialog,sb.shake);var e=this;setTimeout(function(){c(e.elements.dialog,sb.shake)},200)}else{if(this.__internal.isOpen=!0,nb.push(this),this.__internal.activeElement=document.activeElement,"function"==typeof this.prepare&&this.prepare(),bb(this),void 0!==a&&this.setting("modal",a),k(),"string"==typeof d&&""!==d&&(this.__internal.className=d,b(this.elements.root,d)),D(this),c(this.elements.root,sb.animationOut),b(this.elements.root,sb.animationIn),clearTimeout(lb),lb=setTimeout(this.__internal.transitionInHandler,n.supported?1e3:100),qb){var f=this.elements.root;f.style.display="none",setTimeout(function(){f.style.display="block"},0)}pb=this.elements.root.offsetWidth,c(this.elements.root,sb.hidden),"function"==typeof this.setting("onshow")&&this.setting("onshow")()}return this},close:function(){return this.__internal.isOpen&&(cb(this),c(this.elements.root,sb.animationIn),b(this.elements.root,sb.animationOut),clearTimeout(mb),mb=setTimeout(this.__internal.transitionOutHandler,n.supported?1e3:100),b(this.elements.root,sb.hidden),pb=this.elements.modal.offsetWidth,"undefined"!=typeof this.__internal.className&&""!==this.__internal.className&&c(this.elements.root,this.__internal.className),"function"==typeof this.setting("onclose")&&this.setting("onclose")(),nb.splice(nb.indexOf(this),1),this.__internal.isOpen=!1,k()),this}}}(),p=function(){function a(a){a.__internal||(a.__internal={position:q.defaults.notifier.position,delay:q.defaults.notifier.delay},g=document.createElement("DIV"),d(a),document.body.appendChild(g))}function d(a){switch(g.className=h.base,a.__internal.position){case"top-right":b(g,h.top+" "+h.right);break;case"top-left":b(g,h.top+" "+h.left);break;case"bottom-left":b(g,h.bottom+" "+h.left);break;default:case"bottom-right":b(g,h.bottom+" "+h.right)}}function e(a,b,d){var e,f,i;e=function(){m(a,"click",e),f(a,!0)},i=function(){m(a,n.type,i),g.removeChild(a)},l(a,"click",e),f=function(a,b){"undefined"!=typeof a&&a.parentNode===g&&(n.supported?(l(a,n.type,i),c(a,h.visible)):g.removeChild(a),"function"==typeof d&&d.call(void 0,b))},0!==b&&setTimeout(function(){f(a)},b)}var f,g,h={base:"alertify-notifier",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",visible:"ajs-visible",hidden:"ajs-hidden"};return{setting:function(b,c){if(a(this),"undefined"==typeof c)return this.__internal[b];switch(b){case"position":this.__internal.position=c,d(this);break;case"delay":this.__internal.delay=c}return this},notify:function(c,d,i,j){a(this);var k=document.createElement("div");k.className=h.message+("string"==typeof d&&""!==d?" ajs-"+d:""),"string"==typeof c?k.innerHTML=c:k.appendChild(c),this.__internal.position.indexOf("top")<0?g.appendChild(k):g.insertBefore(k,g.firstChild),f=k.offsetWidth,b(k,h.visible);var l="undefined"==typeof i||isNaN(+i)?this.__internal.delay:+i;e(k,1e3*l,j)}}}(),q=new i;q.dialog("alert",function(){return{main:function(a,b,c){var d,e,f;switch(arguments.length){case 1:e=a;break;case 2:"function"==typeof b?(e=a,f=b):(d=a,e=b);break;case 3:d=a,e=b,f=c}return this.setting("title",d),this.setting("message",e),this.setting("onok",f),this},setup:function(){return{buttons:[{text:q.defaults.glossary.ok,key:j.ESC,invokeOnClose:!0,className:q.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(a){this.setContent(a)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(a,b,c){switch(a){case"message":this.setMessage(c);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=c)}},callback:function(a){if("function"==typeof this.settings.onok){var b=this.settings.onok.call(void 0,a);"undefined"!=typeof b&&(a.cancel=!b)}}}}),q.dialog("confirm",function(){function a(a){null!==c.timer&&(clearInterval(c.timer),c.timer=null,a.__internal.buttons[c.index].element.innerHTML=c.text)}function b(b,d,e){a(b),c.duration=e,c.index=d,c.text=b.__internal.buttons[d].element.innerHTML,c.timer=setInterval(g(b,c.task),1e3),c.task(null,b)}var c={timer:null,index:null,text:null,duratuin:null,task:function(b,d){if(d.isOpen()){if(d.__internal.buttons[c.index].element.innerHTML=c.text+" (&#8207;"+c.duration+"&#8207;) ",c.duration-=1,-1===c.duration){a(d);var e=d.__internal.buttons[c.index],f=h(c.index,e);"function"==typeof d.callback&&d.callback.apply(d,[f]),f.close!==!1&&d.close()}}else a(d)}};return{main:function(a,b,c,d){var e,f,g,h;switch(arguments.length){case 1:f=a;break;case 2:f=a,g=b;break;case 3:f=a,g=b,h=c;break;case 4:e=a,f=b,g=c,h=d}return this.setting("title",e),this.setting("message",f),this.setting("onok",g),this.setting("oncancel",h),this},setup:function(){return{buttons:[{text:q.defaults.glossary.ok,key:j.ENTER,className:q.defaults.theme.ok},{text:q.defaults.glossary.cancel,key:j.ESC,invokeOnClose:!0,className:q.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(a){this.setContent(a)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(a,b,c){switch(a){case"message":this.setMessage(c);break;case"labels":"ok"in c&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=c.ok,this.__internal.buttons[0].element.innerHTML=c.ok),"cancel"in c&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=c.cancel,this.__internal.buttons[1].element.innerHTML=c.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(c===!0?this.__internal.buttons[0].element:this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===c?0:1}},callback:function(b){a(this);var c;switch(b.index){case 0:"function"==typeof this.settings.onok&&(c=this.settings.onok.call(void 0,b),"undefined"!=typeof c&&(b.cancel=!c));break;case 1:"function"==typeof this.settings.oncancel&&(c=this.settings.oncancel.call(void 0,b),"undefined"!=typeof c&&(b.cancel=!c))}},autoOk:function(a){return b(this,0,a),this},autoCancel:function(a){return b(this,1,a),this}}}),q.dialog("prompt",function(){var b=document.createElement("INPUT"),c=document.createElement("P");return{main:function(a,b,c,d,e){var f,g,h,i,j;switch(arguments.length){case 1:g=a;break;case 2:g=a,h=b;break;case 3:g=a,h=b,i=c;break;case 4:g=a,h=b,i=c,j=d;break;case 4:f=a,g=b,h=c,i=d,j=e}return this.setting("title",f),this.setting("message",g),this.setting("value",h),this.setting("onok",i),this.setting("oncancel",j),this},setup:function(){return{buttons:[{text:q.defaults.glossary.ok,key:j.ENTER,className:q.defaults.theme.ok},{text:q.defaults.glossary.cancel,key:j.ESC,invokeOnClose:!0,className:q.defaults.theme.cancel}],focus:{element:b,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){b.className=q.defaults.theme.input,b.setAttribute("type","text"),b.value=this.settings.value,this.elements.content.appendChild(c),this.elements.content.appendChild(b)},prepare:function(){},setMessage:function(b){"string"==typeof b?c.innerHTML=b:b instanceof a.HTMLElement&&c.firstChild!==b&&(c.innerHTML="",c.appendChild(b))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",reverseButtons:void 0},settingUpdated:function(a,c,d){switch(a){case"message":this.setMessage(d);break;case"value":b.value=d;break;case"labels":d.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=d.ok),d.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=d.cancel);break;case"reverseButtons":this.elements.buttons.primary.appendChild(d===!0?this.__internal.buttons[0].element:this.__internal.buttons[1].element)}},callback:function(a){var c;switch(a.index){case 0:this.value=b.value,"function"==typeof this.settings.onok&&(c=this.settings.onok.call(void 0,a,this.value),"undefined"!=typeof c&&(a.cancel=!c));break;case 1:"function"==typeof this.settings.oncancel&&(c=this.settings.oncancel.call(void 0,a),"undefined"!=typeof c&&(a.cancel=!c))}}}}),"function"==typeof define?define([],function(){return q}):a.alertify||(a.alertify=q)}(this);